<!DOCTYPE html>
<html lang="lt">
<head>
  <meta charset="UTF-8">
  <title>SocialUp â€“ socialinÄ—s veiklos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">

  <!-- LOGIN -->
  <div id="loginSection">
    <h1>Prisijungimas</h1>
    <input type="text" id="username" placeholder="Vardas">
    <button onclick="login()">Prisijungti</button>
  </div>

  <!-- VEIKLOS -->
  <div id="activitiesSection" style="display:none;">
    <h1>SocialinÄ—s veiklos</h1>
    <div class="activities" id="activitiesContainer"></div>
    <button class="logout" onclick="logout()">Atsijungti</button>
  </div>

  <!-- APIE MANE -->
  <div class="about-me">
    <img src="apie-mane.jpg" alt="AÅ¡ savanoriaujant">
    <div>
      <h2>Apie mane</h2>
      <p>
        Tai yra mano mokyklos projektas, taÄiau noriu jÄ¯ praplÄ—sti Ä¯
        socialinÄ¯ projektÄ…. Å io puslapio tikslas â€“ padÄ—ti Å¾monÄ—ms
        lengviau rasti socialines veiklas ir savanorystÄ—s galimybes.
      </p>
      <p>
        Å iuo metu ieÅ¡kau partneriÅ³ ir organizacijÅ³, kurios norÄ—tÅ³
        prisidÄ—ti prie Å¡ios idÄ—jos vystymo.
      </p>
    </div>
  </div>

</div>

<script>
let activities = [
  {
    id: 1,
    name: "Pagalba seneliÅ³ namuose",
    hours: 8,
    date: "Antradieniais",
    description: "Bendravimas su senjorais",
    location: "https://maps.google.com"
  },
  {
    id: 2,
    name: "Pagalba vaikÅ³ dienos centre",
    hours: 6,
    date: "Pirmadieniais",
    description: "Pagalba vaikams",
    location: "https://maps.google.com"
  }
];

function login(){
  const name = username.value.trim();
  if(!name) return alert("Ä®vesk vardÄ…");
  localStorage.setItem("user", name);
  location.reload();
}

function logout(){
  localStorage.clear();
  location.reload();
}

function toggleRegistration(activityId){
  const user = localStorage.getItem("user");
  let regs = JSON.parse(localStorage.getItem("registrations")) || {};

  if(regs[activityId]){
    delete regs[activityId];
  } else {
    regs[activityId] = user;
  }

  localStorage.setItem("registrations", JSON.stringify(regs));
  renderActivities();
}

function renderActivities(){
  const regs = JSON.parse(localStorage.getItem("registrations")) || {};
  activitiesContainer.innerHTML = "";

  activities.forEach(a => {
    const registered = regs[a.id];
    const div = document.createElement("div");
    div.className = "card";

    div.innerHTML = `
      <h3>${a.name}</h3>
      <p><b>Valandos:</b> ${a.hours}</p>
      <p><b>Kada:</b> ${a.date}</p>
      <p>${a.description}</p>
      <a href="${a.location}" target="_blank">ğŸ“ Å½emÄ—lapis</a>
      <button class="${registered ? 'unreg' : 'reg'}"
        onclick="toggleRegistration(${a.id})">
        ${registered ? "Atsiregistruoti" : "UÅ¾siregistruoti"}
      </button>
    `;

    activitiesContainer.appendChild(div);
  });
}

const user = localStorage.getItem("user");
if(user){
  loginSection.style.display = "none";
  activitiesSection.style.display = "block";
  renderActivities();
}
</script>

</body>
</html>
